<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OnchainOS Demo - Secure AI Contract Deployment</title>
    <link rel="stylesheet" href="styles/demo.css">
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-logo">
                <a href="index.html" class="logo-link">
                    <img src="assets/logo.png" alt="OnchainOS" class="logo">
                    <span class="logo-text">OnchainOS</span>
                </a>
            </div>
            <div class="nav-menu">
                <a href="index.html" class="nav-link">‚Üê Back to Home</a>
            </div>
        </div>
    </nav>

    <!-- Demo Header -->
    <section class="demo-header">
        <div class="container">
            <h1 class="demo-title">Live Demo: AI to Blockchain in One Click</h1>
            <p class="demo-subtitle">Watch how OnchainOS securely deploys AI-generated contracts without exposing private keys</p>
        </div>
    </section>

    <!-- Demo Flow -->
    <section class="demo-flow">
        <div class="container">
            <div class="demo-grid">
                
                <!-- Step 1: AI Generation -->
                <div class="demo-panel" id="ai-panel">
                    <div class="panel-header">
                        <div class="panel-icon">ü§ñ</div>
                        <h3>CairoCoder AI</h3>
                        <span class="step-number">Step 1</span>
                    </div>
                    
                    <div class="panel-content">
                        <div class="chat-interface">
                            <div class="chat-input">
                                <div class="user-message">
                                    <strong>User:</strong> "Write a simple Cairo contract that implements a counter"
                                </div>
                            </div>
                            
                            <div class="ai-response" id="ai-response">
                                <div class="response-header">
                                    <strong>CairoCoder:</strong>
                                    <div class="typing-indicator" id="typing">
                                        <span></span><span></span><span></span>
                                    </div>
                                </div>
                                <div class="code-container" id="generated-code" style="display: none;">
                                    <pre><code>// Define the contract interface
#[starknet::interface]
pub trait ICounter&lt;TContractState&gt; {
    fn increment(ref self: TContractState);
    fn get_count(self: @TContractState) -&gt; u64;
}

// Define the contract module
#[starknet::contract]
pub mod Counter {
    use starknet::storage::*;

    #[storage]
    pub struct Storage {
        count: u64,
    }

    #[constructor]
    fn constructor(ref self: ContractState, initial_value: u64) {
        self.count.write(initial_value);
    }

    #[abi(embed_v0)]
    pub impl CounterImpl of super::ICounter&lt;ContractState&gt; {
        fn increment(ref self: ContractState) {
            let current_count = self.count.read();
            self.count.write(current_count + 1);
        }

        fn get_count(self: @ContractState) -&gt; u64 {
            self.count.read()
        }
    }
}</code></pre>
                                </div>
                                <div class="problem-alert" id="problem-alert" style="display: none;">
                                    <div class="alert-content">
                                        ‚ö†Ô∏è <strong>Deployment Problem:</strong> How do we deploy this securely without exposing private keys?
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <button class="action-btn" id="generate-btn" onclick="startDemo()">
                            Generate Contract
                        </button>
                    </div>
                </div>

                <!-- Step 2: OnchainOS Processing -->
                <div class="demo-panel" id="onchainos-panel">
                    <div class="panel-header">
                        <div class="panel-icon">üõ°Ô∏è</div>
                        <h3>OnchainOS Runtime</h3>
                        <span class="step-number">Step 2</span>
                    </div>
                    
                    <div class="panel-content">
                        <div class="runtime-interface" id="runtime-interface">
                            <div class="policy-section">
                                <h4>Security Policy</h4>
                                <div class="policy-item">
                                    <span class="policy-check">‚úì</span>
                                    <span>Max deployment cost: $10</span>
                                </div>
                                <div class="policy-item">
                                    <span class="policy-check">‚úì</span>
                                    <span>Simulate before deploy</span>
                                </div>
                                <div class="policy-item">
                                    <span class="policy-check">‚úì</span>
                                    <span>Session key expiry: 1 hour</span>
                                </div>
                            </div>
                            
                            <div class="session-key-section" id="session-section" style="display: none;">
                                <h4>Session Key Generated</h4>
                                <div class="key-info">
                                    <div class="key-item">
                                        <span class="key-label">Address:</span>
                                        <span class="key-value">0x1a2b...c3d4</span>
                                    </div>
                                    <div class="key-item">
                                        <span class="key-label">Spending Limit:</span>
                                        <span class="key-value">$10 USD</span>
                                    </div>
                                    <div class="key-item">
                                        <span class="key-label">Expires:</span>
                                        <span class="key-value">60 minutes</span>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="processing-section" id="processing" style="display: none;">
                                <div class="process-step">
                                    <div class="spinner"></div>
                                    <span id="process-text">Initializing secure deployment...</span>
                                </div>
                            </div>
                        </div>
                        
                        <button class="action-btn secondary" id="deploy-btn" onclick="deployContract()" disabled>
                            Deploy Securely
                        </button>
                    </div>
                </div>

                <!-- Step 3: Results -->
                <div class="demo-panel" id="results-panel">
                    <div class="panel-header">
                        <div class="panel-icon">‚úÖ</div>
                        <h3>Deployment Results</h3>
                        <span class="step-number">Step 3</span>
                    </div>
                    
                    <div class="panel-content">
                        <div class="results-interface" id="results-interface">
                            <div class="placeholder-state">
                                <div class="placeholder-icon">‚è≥</div>
                                <p>Deployment results will appear here...</p>
                            </div>
                        </div>
                        
                        <div class="success-results" id="success-results" style="display: none;">
                            <div class="result-item">
                                <span class="result-label">Contract Address:</span>
                                <a href="#" class="result-link" id="contract-link" target="_blank">
                                    0xa1b2c3d4e5f6...
                                </a>
                            </div>
                            
                            <div class="result-item">
                                <span class="result-label">Transaction Hash:</span>
                                <a href="#" class="result-link" id="tx-link" target="_blank">
                                    0x1234567890ab...
                                </a>
                            </div>
                            
                            <div class="result-item">
                                <span class="result-label">Network:</span>
                                <span class="result-value">Starknet Sepolia</span>
                            </div>
                            
                            <div class="result-item">
                                <span class="result-label">Gas Used:</span>
                                <span class="result-value">0.0023 ETH ($3.45)</span>
                            </div>
                            
                            <div class="audit-trail">
                                <h4>Audit Trail</h4>
                                <div class="audit-item">
                                    <span class="audit-time">2024-09-25 18:30:15</span>
                                    <span class="audit-action">Session key created</span>
                                </div>
                                <div class="audit-item">
                                    <span class="audit-time">2024-09-25 18:30:16</span>
                                    <span class="audit-action">Policy validation passed</span>
                                </div>
                                <div class="audit-item">
                                    <span class="audit-time">2024-09-25 18:30:18</span>
                                    <span class="audit-action">Contract simulation successful</span>
                                </div>
                                <div class="audit-item">
                                    <span class="audit-time">2024-09-25 18:30:22</span>
                                    <span class="audit-action">Contract deployed successfully</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Next Steps -->
    <section class="next-steps">
        <div class="container">
            <div class="next-steps-content">
                <h2>Beyond Contract Deployment</h2>
                <p>This demo shows secure contract deployment. OnchainOS enables the same secure execution for:</p>
                
                <div class="use-cases-grid">
                    <div class="use-case">
                        <div class="use-case-icon">üí∞</div>
                        <h4>Treasury Management</h4>
                        <p>AI agents rebalancing portfolios with spending limits</p>
                    </div>
                    <div class="use-case">
                        <div class="use-case-icon">üó≥Ô∏è</div>
                        <h4>DAO Governance</h4>
                        <p>Automated voting based on predefined strategies</p>
                    </div>
                    <div class="use-case">
                        <div class="use-case-icon">‚ö°</div>
                        <h4>DeFi Automation</h4>
                        <p>MEV protection and yield optimization</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- CTA -->
    <section class="demo-cta">
        <div class="container">
            <div class="cta-content">
                <h2>Ready to Build on OnchainOS?</h2>
                <p>Join the secure execution runtime for AI agents</p>
                <div class="cta-buttons">
                    <button class="btn-primary" onclick="restartDemo()">Try Demo Again</button>
                    <a href="index.html" class="btn-secondary">Learn More</a>
                </div>
            </div>
        </div>
    </section>

    <script src="js/demo.js"></script>
</body>
</html>